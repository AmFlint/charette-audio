<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Player Audio</title>
</head>

<body>

    <div>
        <h1>Music Player</h1>
        <h2></h2>
        <h3></h3>
        <audio src=""></audio>
        <img src="" width="400" height="400">

        <button class="preview">Preview</button>
        <button class="play">Play</button>
        <button class="stop-it">Stop</button>
        <button class="next">Next</button>
    </div>



    <script>
        var chansons = {
            "songs": [
                {
                    "titre": "Silvera",
                    "path": "Gojira â€“ Silvera.mp3",
                    "artiste": "Gojira",
                    "cover": "gojira.jpeg"
        },
                {
                    "titre": "Not Our Tomorrow",
                    "path": "Not Our Tomorrow.mp3",
                    "artiste": "Miss May I",
                    "cover": "missmayi.jpeg"


        }
      ],
        }

        var next = document.querySelector('.next');
        var preview = document.querySelector('.preview');
        var btn = document.querySelector('.play');
        var btnStop = document.querySelector('.stop-it');

        var etat = btn.innerHTML;
        var player = document.querySelector('audio');
        var artiste = document.querySelector('h2');
        var title = document.querySelector('h3');
        var cover = document.querySelector('img');

        var i = 0;
        var cursong = chansons.songs[i].path;
        var curtitle = chansons.songs[i].titre;
        var curartiste = chansons.songs[i].artiste;
        var curcover = chansons.songs[i].cover;

        title.innerHTML = curtitle;
        artiste.innerHTML = curartiste;
        player.src = cursong;
        cover.src = curcover;

        console.log(player);
        console.log(etat);

        //NEXT
        next.addEventListener('click', function elNext() {

            i++;
            cur = chansons.songs[i].path;
            player.src = cur;
            btn.innerHTML = 'Play';
            curtitle = chansons.songs[i].titre;
            title.innerHTML = curtitle;
            curartiste = chansons.songs[i].artiste;
            artiste.innerHTML = curartiste;
            curcover = chansons.songs[i].cover;
            cover.src = curcover;
            console.log(etat);

        });

        // PREVIEW
        preview.addEventListener('click', function elNext() {

            i--;
            cur = chansons.songs[i].path;
            player.src = cur;
            btn.innerHTML = 'Play';
            curtitle = chansons.songs[i].titre;
            title.innerHTML = curtitle;
            curartiste = chansons.songs[i].artiste;
            artiste.innerHTML = curartiste;
            curcover = chansons.songs[i].cover;
            cover.src = curcover;
            console.log(etat);

        });

        // PLAY / PAUSE
        btn.addEventListener('click', function () {
            if (btn.innerHTML == 'Pause') {
                player.pause()
                btn.innerHTML = 'Play';
                var etat = btn.innerHTML;
                console.log(etat);
            } else {
                player.play();
                btn.innerHTML = 'Pause';
                var etat = btn.innerHTML;
                console.log(etat);
            }
        });
        //STOP
        btnStop.addEventListener('click', function () {
            player.currentTime = 0;
            player.pause();
            btn.innerHTML = 'Play';
        });
    </script>
</body>

</html>